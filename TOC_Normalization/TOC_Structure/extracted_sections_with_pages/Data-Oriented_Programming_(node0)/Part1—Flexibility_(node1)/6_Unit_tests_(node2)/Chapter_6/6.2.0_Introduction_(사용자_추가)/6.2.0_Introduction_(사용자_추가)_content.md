# 6.2.0 Introduction (사용자 추가)

**페이지**: 143-144
**계층**: Data-Oriented Programming (node0) > Part1—Flexibility (node1) > 6 Unit tests (node2) > Chapter 6
**추출 시간**: 2025-08-06 19:46:56

---


--- 페이지 143 ---

6.2 Unit tests for data manipulation code 115
Joe The tree of function calls guides us about the quality and the quantity of test
cases we should write.
Theo How?
Joe You’ll see in a moment.
6.2.2 Unit tests for functions down the tree
Joe Let’s start from the function that appears in the deepest node in our tree:
Catalog.authorNames. Take a look at the code for Catalog.authorNames
and tell me what are the input and the output of Catalog.authorNames.
Joe turns his laptop so Theo can a closer look at the code. Theo takes a sip of his café au
lait as he looks over what’s on Joe’s laptop.
Listing6.5 The code of Catalog.authorNames
Catalog.authorNames = function (catalogData, authorIds) {
return _.map(authorIds, function(authorId) {
return _.get(catalogData, ["authorsById", authorId, "name"]);
});
};
Theo The input of Catalog.authorNames is catalogData and authorIds. The
output is authorNames.
Joe Would you do me a favor and express it visually?
Theo Sure.
It’s Theo’s turn to grab a napkin. He draws a small rectangle with two inward arrows and
one outward arrow as in figure 6.2.
catalogData authorIds
Catalog.authorNames()
Figure 6.2 Visualization of the input
authorNames and output of Catalog.authorNames
Joe Excellent! Now, how many combinations of input would you include in the
unit test for Catalog.authorNames?
Theo Let me see.
Theo reaches for another napkin. This time he creates a table to gather his thoughts
(table 6.1).

--- 페이지 143 끝 ---


--- 페이지 144 ---

116 CHAPTER 6 Unit tests
Table 6.1 The table of test cases for Catalog.authorNames
catalogData authorIds authorNames
Catalog with two authors Empty array Empty array
Catalog with two authors Array with one author ID Array with one author name
Catalog with two authors Array with two author IDs Array with two author names
Theo To begin with, I would have a catalogData with two author IDs and call
Catalog.authorNames with three arguments: an empty array, an array with a
single author ID, and an array with two author IDs.
Joe How would you generate the catalogData?
Theo Exactly as we generated it before.
Turning to his laptop, Theo writes the code for catalogData. He shows it to Joe.
Listing6.6 A complete catalogData map
var catalogData = {
"booksByIsbn": {
"978-1779501127": {
"isbn": "978-1779501127",
"title": "Watchmen",
"publicationYear": 1987,
"authorIds": ["alan-moore", "dave-gibbons"],
"bookItems": [
{
"id": "book-item-1",
"libId": "nyc-central-lib",
"isLent": true
},
{
"id": "book-item-2",
"libId": "nyc-central-lib",
"isLent": false
}
]
}
},
"authorsById": {
"alan-moore": {
"name": "Alan Moore",
"bookIsbns": ["978-1779501127"]
},
"dave-gibbons": {
"name": "Dave Gibbons",
"bookIsbns": ["978-1779501127"]
}
}
};

--- 페이지 144 끝 ---
