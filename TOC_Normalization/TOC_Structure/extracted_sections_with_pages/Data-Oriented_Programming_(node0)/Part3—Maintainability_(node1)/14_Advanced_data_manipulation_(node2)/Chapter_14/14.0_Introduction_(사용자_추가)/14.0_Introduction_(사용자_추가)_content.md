# 14.0 Introduction (사용자 추가)

**페이지**: 323-324
**계층**: Data-Oriented Programming (node0) > Part3—Maintainability (node1) > 14 Advanced data manipulation (node2) > Chapter 14
**추출 시간**: 2025-08-06 19:47:22

---


--- 페이지 323 ---

Advanced data
manipulation
Whatever is well-conceived
is clearly said
This chapter covers
 Manipulating nested data
 Writing clear and concise code for business
logic
 Separating business logic and generic data
manipulation
 Building custom data manipulation tools
 Using the best tool for the job
When our business logic involves advanced data processing, the generic data manip-
ulation functions provided by the language run time and by third-party libraries
might not be sufficient. Instead of mixing the details of data manipulation with
business logic, we can write our own generic data manipulation functions and imple-
ment our custom business logic using them. Separating business logic from the inter-
nal details of data manipulation makes the business logic code concise and easy to
read for other developers.
295

--- 페이지 323 끝 ---


--- 페이지 324 ---

296 CHAPTER 14 Advanced data manipulation
14.1 Updating a value in a map with eloquence
Dave is more and more autonomous on the Klafim project. He can implement most fea-
tures on his own, typically turning to Theo only for code reviews. Dave’s code quality stan-
dards are quite high. Even when his code is functionally solid, he tends to be unsatisfied
with its readability. Today, he asks for Theo’s help in improving the readability of the code
that fixes a bug Theo introduced a long time ago.
Dave I think I have a found a bug in the code that returns book information from
the Open Library API.
Theo What bug?
Dave Sometimes, the API returns duplicate author names, and we pass the dupli-
cates through to the client.
Theo It doesn’t sound like a complicated bug to fix.
Dave Right, I fixed it, but I’m not satisfied with the readability of the code I wrote.
Theo Being critical of our own code is an important quality for a developer to prog-
ress. What is it exactly that you don’t like?
Dave Take a look at this code.
Listing14.1 Removing duplicates in a straightforward but tedious way
function removeAuthorDuplicates(book) {
var authors = _.get(book, "authors");
var uniqAuthors = _.uniq(authors);
return _.set(book,"authors", uniqAuthors);
}
Dave I’m using _.get to retrieve the array with the author names, then _.uniq to
create a duplicate-free version of the array, and finally, _.set to create a new
version of the book with no duplicate author names.
Theo The code is tedious because the next value of authorNames needs to be based
on its current value.
Dave But it’s a common use case! Isn’t there a simpler way to write this kind of code?
Theo Your astonishment definitely honors you as a developer, Dave. I agree with you
that there must be a simpler way. Let me phone Joe and see if he’s available for
a conference call.
Joe How’s it going, Theo?
Theo Great! Are you back from your tech conference?
Joe I just landed. I’m on my way home now in a taxi.
Theo How was your talk about DOP?
Joe Pretty good. At the beginning people were a bit suspicious, but when I told
them the story of Albatross and Klafim, it was quite convincing.
Theo Yeah, adults are like children in that way; they love stories.
Joe What about you? Did you manage to achieve polymorphism with multimethods?
Theo Yes! Dave even managed to implement a feature in Klafim with multimethods.
Joe Cool!

--- 페이지 324 끝 ---
