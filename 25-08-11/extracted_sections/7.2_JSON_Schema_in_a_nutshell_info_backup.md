# 추가 정보

## 핵심 내용
JSON Schema는 데이터 표현과 스키마 정의를 분리하여, 언어에 독립적으로 데이터 검증을 수행할 수 있는 방법을 제공합니다. 스키마는 `type`, `properties`, `required` 등의 키워드를 사용해 JSON 형태로 정의되며, 다양한 언어의 validation 라이브러리를 통해 데이터가 스키마에 부합하는지 검증할 수 있습니다.

## 상세 핵심 내용
### JSON Schema란 무엇인가

JSON Schema는 데이터의 구조와 유효성을 정의하는 언어독립적인 스키마 언어입니다. 데이터 표현(data representation)과 데이터 스키마(data schema)를 분리하여 관리할 수 있으며, 언제든지 데이터가 스키마에 부합하는지 검증할 수 있습니다.

### 도서 검색 요청의 JSON Schema 작성 과정

#### 기본 요청 구조
도서 검색 요청은 다음과 같은 구조를 가집니다:
- `title`: 검색할 도서 제목 문자열
- `fields`: 반환받고자 하는 필드명들의 문자열 배열

```json
{
  "title": "habit",
  "fields": ["title", "weight", "number_of_pages"]
}
```

#### 스키마 작성 단계별 과정

**1단계: 기본 객체 스키마 골격**
```json
{
  "type": "object",
  "properties": {...}
}
```

**2단계: 필드 타입 정의**
```json
{
  "type": "object",
  "properties": {
    "title": {"type": "string"},
    "fields": {"type": "array"}
  }
}
```

**3단계: 배열 요소 타입 명시**
`items` 속성을 사용하여 배열 요소의 스키마를 정의합니다:
```json
{
  "type": "object",
  "properties": {
    "title": {"type": "string"},
    "fields": {
      "type": "array",
      "items": {"type": "string"}
    }
  }
}
```

**4단계: 열거형 값 제한**
`enum` 키워드를 사용하여 허용되는 필드명을 제한합니다:
```json
{
  "type": "object",
  "properties": {
    "title": {"type": "string"},
    "fields": {
      "type": "array",
      "items": {
        "enum": [
          "publishers",
          "number_of_pages",
          "weight",
          "physical_format",
          "subjects",
          "publish_date",
          "physical_dimensions"
        ]
      }
    }
  }
}
```

**5단계: 필수 필드 지정**
`required` 배열을 사용하여 필수 필드를 명시합니다:
```javascript
var searchBooksRequestSchema = {
  "type": "object",
  "properties": {
    "title": {"type": "string"},
    "fields": {
      "type": "array",
      "items": {
        "enum": [
          "publishers",
          "number_of_pages",
          "weight",
          "physical_format",
          "subjects",
          "publish_date",
          "physical_dimensions"
        ]
      }
    }
  },
  "required": ["title", "fields"]
};
```

### 데이터 검증(Data Validation)

데이터 검증은 데이터가 스키마에 부합하는지 확인하는 과정입니다. 검증 라이브러리의 `validate` 함수를 사용하여 수행합니다.

#### 유효한 요청 검증
```javascript
var searchBooksRequest = {
  "title": "habit",
  "fields": ["title", "weight", "number_of_pages"]
};
validate(searchBooksRequestSchema, searchBooksRequest);
// → true
```

#### 유효하지 않은 요청 검증
```javascript
var invalidSearchBooksRequest = {
  "tilte": "habit",  // 오타: title → tilte
  "fields": ["title", "weight", "number_of_pages"]
};
validate(searchBooksRequestSchema, invalidSearchBooksRequest);
// → false
```

### 주요 JSON Schema 검증 라이브러리

| 언어 | 라이브러리 | URL |
|------|-----------|-----|
| JavaScript | Ajv | https://github.com/ajv-validator/ajv |
| Java | Snow | https://github.com/ssilverman/snowy-json |
| C# | JSON.net Schema | https://www.newtonsoft.com/jsonschema |
| Python | jschon | https://github.com/marksparkza/jschon |
| Ruby | JSONSchemer | https://github.com/davishmcclurg/json_schemer |

### JSON Schema의 장점

#### 언어 독립성
JSON Schema는 특정 프로그래밍 언어에 종속되지 않으며, 대부분의 프로그래밍 언어에서 검증 라이브러리를 사용할 수 있습니다.

#### 높은 표현력
클래스 기반 데이터 표현보다 훨씬 강력한 검증 조건을 표현할 수 있습니다:
- 숫자 범위 검증
- 정규표현식을 사용한 문자열 패턴 검증
- 복잡한 조건부 검증

#### DOP(Data-Oriented Programming)의 핵심 원칙
- 데이터 스키마와 데이터 표현의 분리
- 언제든지 원하는 시점에 데이터 검증 가능
- 스키마 조합(schema composition) 지원

### 고급 검증 기능

JSON Schema는 기본적인 타입 검증 외에도 다양한 고급 검증 기능을 제공합니다:
- 검증 실패 시 상세한 오류 정보 제공
- 복잡한 조건부 검증 로직
- 스키마 간의 조합 및 상속
- 동적 스키마 검증

이러한 특징들로 인해 JSON Schema는 API 설계, 데이터 검증, 문서화 등 다양한 용도로 활용되며, 특히 마이크로서비스 아키텍처에서 서비스 간 데이터 계약을 정의하는데 매우 유용합니다.

## 주요 화제
- JSON Schema 기본 개념: 데이터 표현과 데이터 스키마를 분리하여 정의하고 검증하는 방법, DOP(Data-Oriented Programming)에서 스키마의 독립성

- JSON Schema 구조와 문법: type, properties, items, enum, required 등의 키워드를 사용한 스키마 정의 방법과 객체, 배열, 문자열 타입 명세

- 데이터 검증(Validation) 과정: JSON Schema를 사용해 실제 데이터가 정의된 스키마에 부합하는지 확인하는 방법과 검증 라이브러리 활용

- 도서 검색 요청 스키마 설계: title(문자열)과 fields(문자열 배열) 필드를 가진 검색 요청 데이터의 JSON Schema 구현 예제

- JSON Schema의 장점과 특징: 언어 독립적 특성, 클래스 기반 데이터 표현 대비 높은 표현력, 고급 검증 기능의 가능성

- 프로그래밍 언어별 JSON Schema 라이브러리: JavaScript(Ajv), Java(Snow), C#(JSON.net Schema), Python(jschon), Ruby(JSONSchemer) 등 다양한 언어 지원

## 부차 화제
- 구체적인 구현 방법 및 기술적 세부사항: 텍스트에서 다루는 기술적 구현 방법과 세부 설명
- 예시 코드 및 실제 적용 사례: 제시된 코드 예시와 실제 상황에서의 적용 방법
- 관련 개념 및 배경 지식: 주요 내용을 이해하기 위해 필요한 배경 지식과 관련 개념들
- 제한사항 및 주의사항: 사용 시 고려해야 할 제한사항이나 주의해야 할 점들
