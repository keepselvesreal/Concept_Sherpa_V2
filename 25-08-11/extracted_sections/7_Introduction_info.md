# 추가 정보

## 핵심 내용
데이터 지향 프로그래밍(DOP)에서 데이터 검증은 DOP의 네 번째 원칙인 "데이터 스키마와 데이터 표현의 분리"를 구현하는 핵심 개념이며, 일반적인 데이터 구조로 표현된 데이터를 시스템 경계에서 검증하는 방법을 다룹니다. DOP를 채택할 때 흔한 오해와 달리, 데이터 검증 없이 데이터에 접근하고 항상 유효하다고 가정하는 것이 아니라, 실제로는 제네릭 데이터 구조를 사용할 때도 데이터 검증이 가능할 뿐만 아니라 권장됩니다. 이 장에서는 주로 시스템 경계에서 발생하는 데이터 검증에 초점을 맞추며, 특히 외부에서 들어오는 데이터나 시스템에서 나가는 데이터의 무결성을 보장하는 방법들을 다루고, 시스템 전체를 흐르는 데이터의 검증은 3부에서 별도로 다룰 예정입니다.

## 상세 핵심 내용
### DOP(Data-Oriented Programming)에서의 데이터 검증 개념

DOP를 채택할 때 흔히 오해하는 것은 데이터 검증 없이 데이터에 접근하고, 데이터가 항상 유효하다고 가정하는 희망적 사고에 빠진다는 것입니다. 하지만 실제로는 데이터 지향 원칙을 따를 때 데이터 검증이 가능할 뿐만 아니라 권장됩니다.

데이터 검증은 DOP의 4번째 원칙인 "데이터 스키마와 데이터 표현의 분리"를 구현하는 핵심 메커니즘입니다. 이는 객체지향 프로그래밍과 달리 클래스 인스턴스화 시점이 아닌, 명시적 검증 시점에서 데이터의 유효성을 확인하는 접근법으로, 더 유연하고 표현력이 높은 데이터 검증을 가능하게 합니다.

### 시스템 경계에서의 데이터 검증

이 장에서는 주로 시스템 경계에서 발생하는 데이터 검증에 초점을 맞춥니다. 시스템 경계는 데이터 교환이 발생하는 지점으로 정의되며, 웹 서버의 경우 다음 세 영역이 해당됩니다:

- **클라이언트 경계**: 웹 브라우저와 웹 서버 간 데이터 교환
- **데이터베이스 경계**: 웹 서버와 데이터베이스 간 데이터 교환  
- **웹 서비스 경계**: 웹 서버와 외부 웹 서비스 간 데이터 교환

시스템 경계에서의 검증은 잘못된 데이터가 시스템에 들어오거나 나가는 것을 방지하고, 무효한 데이터 발견 시 정보성 오류를 표시하는 목적을 가집니다. 경계에서의 데이터가 유효성을 확보하면 시스템 내부에서의 예상치 못한 데이터 발생 가능성이 현저히 낮아지므로, 내부에서의 추가 검증 필요성이 크게 줄어듭니다.

### 제네릭 데이터 구조에서의 데이터 검증

이 장에서는 데이터가 제네릭 데이터 구조로 표현될 때의 데이터 검증 방법을 설명합니다. DOP에서는 일반적인 맵 구조로 표현된 데이터를 JSON Schema와 같은 스키마 언어를 통해 검증하며, 이는 클래스 기반 데이터 표현보다 높은 조합성과 유연성을 제공합니다.

JSON Schema는 언어독립적 스키마 언어로서, 타입 정의, 프로퍼티 설정, 배열 스키마, 열거형 값, 필수 필드 지정 등을 통해 데이터 구조를 정의하고 검증할 수 있습니다. 특히 `additionalProperties` 설정을 통해 스키마의 유연성과 엄격성을 제어할 수 있어, "받는 데이터에는 관대하게, 보내는 데이터에는 엄격하게" 하는 견고성 원칙을 효과적으로 구현할 수 있습니다.

### DOP 제4원칙: 데이터 스키마와 표현의 분리

**원칙 #4: 데이터 스키마와 데이터 표현을 분리하라**

이 장은 DOP의 네 번째 원칙을 심층적으로 탐구합니다. 이 원칙은 데이터의 구조적 정의(스키마)와 실제 데이터 표현 방식을 분리함으로써, 더 유연하고 검증 가능한 데이터 처리 시스템을 구축하는 방법을 제시합니다.

스키마 조합(Schema Composition) 기능을 통해 `allOf`, `anyOf`, `oneOf` 키워드를 사용하여 여러 스키마를 논리적으로 결합할 수 있으며, 이는 클래스 기반 데이터 표현으로는 표현하기 어려운 복잡한 검증 조건들을 지원합니다. 또한 스키마는 일반적인 맵 구조로 표현되므로 다른 맵과 동일하게 조작할 수 있어 높은 재사용성과 모듈화가 가능합니다.

### 파트 3에서의 시스템 내부 데이터 검증 예고

시스템 경계에서의 검증에 중점을 둔 이 장의 내용과 달리, 파트 3에서는 시스템 전체를 흐르는 데이터의 검증을 다룰 예정입니다. 이를 통해 DOP 환경에서도 안전하고 신뢰할 수 있는 전체적인 데이터 처리 시스템을 구축하는 방법을 완성할 수 있습니다.

## 주요 화제
- 데이터 지향 프로그래밍(DOP)에서의 데이터 검증: DOP를 따를 때 데이터 검증이 가능하고 권장되는 방법에 대한 설명
- 제네릭 데이터 구조를 사용한 데이터 검증: 제네릭 데이터 구조로 표현된 데이터를 검증하는 방법
- 시스템 경계에서의 데이터 검증: 시스템 경계에서 발생하는 데이터 검증에 중점을 둔 내용
- DOP 원칙 #4 - 데이터 스키마와 표현의 분리: 데이터 스키마를 데이터 표현으로부터 분리하는 원칙에 대한 심화 학습

## 부차 화제
- 데이터 검증과 DOP의 관계: DOP를 따를 때 데이터 검증이 어떻게 가능하고 권장되는지에 대한 설명
- 제네릭 데이터 구조에서의 데이터 검증: 범용 데이터 구조로 표현된 데이터를 검증하는 방법
- 시스템 경계에서의 데이터 검증: 시스템의 경계 지점에서 발생하는 데이터 검증 과정
- 시스템 내부 데이터 흐름 검증: 파트 3에서 다룰 예정인 시스템 내부를 통과하는 데이터의 검증 방법
- DOP 제4원칙: 데이터 스키마와 데이터 표현의 분리에 대한 심화 설명
